{"remainingRequest":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\src\\views\\UserManage.vue?vue&type=style&index=0&id=041d5aca&lang=less&scoped=true&","dependencies":[{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\src\\views\\UserManage.vue","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\less-loader\\dist\\cjs.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1692962904000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi51c2VyLW1hbmFnZSB7CiAgd2lkdGg6IDExMDBweDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIG1hcmdpbjogMTBweCBhdXRvOwogIHBhZGRpbmc6IDEwcHggMjBweDsKICAubWFuYWdlci1jaGFuZ2UtdXNlci1pbmZvIHsKICAgIC5lbC1kaWFsb2cgewogICAgICB3aWR0aDogNTAwcHg7CiAgICAgIC5lbC1kaWFsb2dfX2JvZHkgewogICAgICAgIGhlaWdodDogNDAwcHg7CiAgICAgICAgLnVzZXItaW5mbyB7CiAgICAgICAgICB3aWR0aDogNDAwcHg7CiAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgLm1hbmFnZXItY2hhbmdlLW5hbWUsCiAgICAgICAgICAubWFuYWdlci1jaGFuZ2UtcGFzc3dvcmQsCiAgICAgICAgICAubWFuYWdlci1jaGFuZ2UtcGhvbmUsCiAgICAgICAgICAubWFuYWdlci1jaGFuZ2UtYWRkcmVzcyB7CiAgICAgICAgICAgIC5lbC1mb3JtLWl0ZW1fX2xhYmVsIHsKICAgICAgICAgICAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgICAgICB3aWR0aDogNDAwcHg7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjAwcHg7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserManage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"user-manage\">\n    <el-table\n      ref=\"multipleTable\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      :data=\"userData\">\n      <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n      <el-table-column prop=\"userName\" label=\"用户名\">\n      </el-table-column>\n      <el-table-column prop=\"nickName\" label=\"昵称\">\n      </el-table-column>\n      <el-table-column\n        prop=\"identityNum\"\n        label=\"身份证\"\n        width=\"120\"\n        show-overflow-tooltip\n      >\n      </el-table-column>\n      <el-table-column prop=\"role\" label=\"角色\" width=\"140\"> </el-table-column>\n      <el-table-column prop=\"phone\" label=\"电话\" width=\"120\"> </el-table-column>\n      <el-table-column prop=\"address\" label=\"地址\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"创建日期\" width=\"100\">\n        <template slot-scope=\"scope\">{{\n          scope.row.createTime.slice(0, 10)\n        }}</template>\n      </el-table-column>\n      <el-table-column label=\"修改日期\" width=\"100\">\n        <template slot-scope=\"scope\">{{ scope.row.updateTime.slice(0, 10)}}</template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"110\">\n        <template slot-scope=\"scope\">\n          <div>\n            <el-button type=\"success\" icon=\"el-icon-edit\" circle\n              @click=\"managerChangeInfo(scope.row.userName)\"></el-button>\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle\n              @click=\"deleteUserNameClick(scope.row.userName)\"></el-button>\n            <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\">\n              <span>确认删除该用户</span>\n              <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button type=\"success\" @click=\"managerDeleteUser(deleteUserName)\">确 定</el-button>\n              </span>\n            </el-dialog>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog\n      title=\"用户信息\"\n      :visible.sync=\"dialogFormVisible\"\n      class=\"manager-change-user-info\"\n    >\n      <el-form class=\"user-info\">\n        <el-form-item\n          label=\"用户名\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-name\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.userName\"\n            :disabled=\"true\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"昵称\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-phone\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.nickName\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"身份证号\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-phone\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.identityNum\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"角色\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-role\"\n        >\n          <el-input autocomplete=\"off\" v-model=\"updateUserData.role\"></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"电话\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-phone\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.phone\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"地址\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-address\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.address\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"success\" @click=\"submitCHangeInfo\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <pagination\n      :cUrl=\"url\"\n      :cTotal=\"total\"\n      :cPageSize=\"pageSize\"\n      @item-click=\"pageClick\"\n    ></pagination>\n  </div>\n</template>\n\n<script>\nimport {\n  selectUserByUsername,\n  deleteUserByUsername,\n  updateUserByUsername,\n  selectAllUserPage,\n} from \"../api/user\";\nimport Pagination from \"../components/Pagination.vue\";\nexport default {\n  inject: [\"reload\"],\n  components: { Pagination },\n  data() {\n    return {\n      userData: [],\n      dialogVisible: false,\n      dialogTableVisible: false,\n      dialogFormVisible: false,\n      formLabelWidth: \"120px\",\n      deleteUserName: \"\",\n      total: 0,\n      pageSize: 9,\n      url: \"/user/search/\",\n      usersCount: sessionStorage.getItem(\"/user/search/pageCode\")\n        ? sessionStorage.getItem(\"/user/search/pageCode\")\n        : 1,\n      updateUserData: {},\n    };\n  },\n  methods: {\n    pageClick(item) {\n      this.userData = item;\n    },\n    managerChangeInfo(userName) {\n      this.dialogFormVisible = true;\n      selectUserByUsername({\n        user_name: userName,\n      }).then((res) => {\n        this.updateUserData = res.data;\n      });\n    },\n    deleteUserNameClick(deleteUserName) {\n      this.deleteUserName = deleteUserName;\n      this.dialogVisible = true;\n    },\n    managerDeleteUser(userName) {\n      this.dialogVisible = false;\n      deleteUserByUsername({\n        user_name: userName,\n      }).then((res) => {\n        if (res.flag == true) {\n          alert(res.message);\n          this.reload();\n        } else {\n          alert(res.data);\n        }\n      });\n    },\n    submitCHangeInfo() {\n      this.dialogFormVisible = false;\n      updateUserByUsername({\n        user_name: this.updateUserData.userName,\n        nickName: this.updateUserData.nickName,\n        identityNum: this.updateUserData.identityNum,\n        phone: this.updateUserData.phone,\n        address: this.updateUserData.address,\n        role: this.updateUserData.role,\n      }).then((res) => {\n          if (res.flag == true) {\n            alert(res.message);\n            this.reload();\n          } else {\n            alert(res.data);\n          }\n        })\n        .catch((err) => {\n          alert(\"修改失败\");\n        });\n    },\n  },\n  created() {\n    this.$store.commit(\"updateUserActiveIndex\", \"5\");\n      selectAllUserPage({\n        pageNum:this.usersCount,\n      }).then((res) => {\n        this.userData = res.data.list;\n        this.total = res.data.total;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.user-manage {\n  width: 1100px;\n  background: #fff;\n  margin: 10px auto;\n  padding: 10px 20px;\n  .manager-change-user-info {\n    .el-dialog {\n      width: 500px;\n      .el-dialog__body {\n        height: 400px;\n        .user-info {\n          width: 400px;\n          padding: 0;\n          .manager-change-name,\n          .manager-change-password,\n          .manager-change-phone,\n          .manager-change-address {\n            .el-form-item__label {\n              width: 100px !important;\n            }\n            width: 400px;\n            margin-right: 200px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>"]}]}