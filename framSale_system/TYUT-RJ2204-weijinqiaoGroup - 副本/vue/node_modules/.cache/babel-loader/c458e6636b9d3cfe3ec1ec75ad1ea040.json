{"remainingRequest":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\src\\views\\UserManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\src\\views\\UserManage.vue","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692962904000},{"path":"D:\\课设\\SDU_2023_Nongchanpin37-master\\SDU_2023_Nongchanpin37-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1692962904000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2VsZWN0VXNlckJ5VXNlcm5hbWUsIGRlbGV0ZVVzZXJCeVVzZXJuYW1lLCB1cGRhdGVVc2VyQnlVc2VybmFtZSwgc2VsZWN0QWxsVXNlclBhZ2UgfSBmcm9tICIuLi9hcGkvdXNlciI7CmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4uL2NvbXBvbmVudHMvUGFnaW5hdGlvbi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbInJlbG9hZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyRGF0YTogW10sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dUYWJsZVZpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAiMTIwcHgiLAogICAgICBkZWxldGVVc2VyTmFtZTogIiIsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZTogOSwKICAgICAgdXJsOiAiL3VzZXIvc2VhcmNoLyIsCiAgICAgIHVzZXJzQ291bnQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oIi91c2VyL3NlYXJjaC9wYWdlQ29kZSIpID8gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiL3VzZXIvc2VhcmNoL3BhZ2VDb2RlIikgOiAxLAogICAgICB1cGRhdGVVc2VyRGF0YToge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBwYWdlQ2xpY2s6IGZ1bmN0aW9uIHBhZ2VDbGljayhpdGVtKSB7CiAgICAgIHRoaXMudXNlckRhdGEgPSBpdGVtOwogICAgfSwKICAgIG1hbmFnZXJDaGFuZ2VJbmZvOiBmdW5jdGlvbiBtYW5hZ2VyQ2hhbmdlSW5mbyh1c2VyTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHNlbGVjdFVzZXJCeVVzZXJuYW1lKHsKICAgICAgICB1c2VyX25hbWU6IHVzZXJOYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnVwZGF0ZVVzZXJEYXRhID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVVzZXJOYW1lQ2xpY2s6IGZ1bmN0aW9uIGRlbGV0ZVVzZXJOYW1lQ2xpY2soZGVsZXRlVXNlck5hbWUpIHsKICAgICAgdGhpcy5kZWxldGVVc2VyTmFtZSA9IGRlbGV0ZVVzZXJOYW1lOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIG1hbmFnZXJEZWxldGVVc2VyOiBmdW5jdGlvbiBtYW5hZ2VyRGVsZXRlVXNlcih1c2VyTmFtZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICBkZWxldGVVc2VyQnlVc2VybmFtZSh7CiAgICAgICAgdXNlcl9uYW1lOiB1c2VyTmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmZsYWcgPT0gdHJ1ZSkgewogICAgICAgICAgYWxlcnQocmVzLm1lc3NhZ2UpOwoKICAgICAgICAgIF90aGlzMi5yZWxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0Q0hhbmdlSW5mbzogZnVuY3Rpb24gc3VibWl0Q0hhbmdlSW5mbygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgIHVwZGF0ZVVzZXJCeVVzZXJuYW1lKHsKICAgICAgICB1c2VyX25hbWU6IHRoaXMudXBkYXRlVXNlckRhdGEudXNlck5hbWUsCiAgICAgICAgbmlja05hbWU6IHRoaXMudXBkYXRlVXNlckRhdGEubmlja05hbWUsCiAgICAgICAgaWRlbnRpdHlOdW06IHRoaXMudXBkYXRlVXNlckRhdGEuaWRlbnRpdHlOdW0sCiAgICAgICAgcGhvbmU6IHRoaXMudXBkYXRlVXNlckRhdGEucGhvbmUsCiAgICAgICAgYWRkcmVzczogdGhpcy51cGRhdGVVc2VyRGF0YS5hZGRyZXNzLAogICAgICAgIHJvbGU6IHRoaXMudXBkYXRlVXNlckRhdGEucm9sZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmZsYWcgPT0gdHJ1ZSkgewogICAgICAgICAgYWxlcnQocmVzLm1lc3NhZ2UpOwoKICAgICAgICAgIF90aGlzMy5yZWxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzLmRhdGEpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGFsZXJ0KCLkv67mlLnlpLHotKUiKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVVc2VyQWN0aXZlSW5kZXgiLCAiNSIpOwogICAgc2VsZWN0QWxsVXNlclBhZ2UoewogICAgICBwYWdlTnVtOiB0aGlzLnVzZXJzQ291bnQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpczQudXNlckRhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICBfdGhpczQudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"user-manage\">\n    <el-table\n      ref=\"multipleTable\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      :data=\"userData\">\n      <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n      <el-table-column prop=\"userName\" label=\"用户名\">\n      </el-table-column>\n      <el-table-column prop=\"nickName\" label=\"昵称\">\n      </el-table-column>\n      <el-table-column\n        prop=\"identityNum\"\n        label=\"身份证\"\n        width=\"120\"\n        show-overflow-tooltip\n      >\n      </el-table-column>\n      <el-table-column prop=\"role\" label=\"角色\" width=\"140\"> </el-table-column>\n      <el-table-column prop=\"phone\" label=\"电话\" width=\"120\"> </el-table-column>\n      <el-table-column prop=\"address\" label=\"地址\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"创建日期\" width=\"100\">\n        <template slot-scope=\"scope\">{{\n          scope.row.createTime.slice(0, 10)\n        }}</template>\n      </el-table-column>\n      <el-table-column label=\"修改日期\" width=\"100\">\n        <template slot-scope=\"scope\">{{ scope.row.updateTime.slice(0, 10)}}</template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"110\">\n        <template slot-scope=\"scope\">\n          <div>\n            <el-button type=\"success\" icon=\"el-icon-edit\" circle\n              @click=\"managerChangeInfo(scope.row.userName)\"></el-button>\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle\n              @click=\"deleteUserNameClick(scope.row.userName)\"></el-button>\n            <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\">\n              <span>确认删除该用户</span>\n              <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button type=\"success\" @click=\"managerDeleteUser(deleteUserName)\">确 定</el-button>\n              </span>\n            </el-dialog>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog\n      title=\"用户信息\"\n      :visible.sync=\"dialogFormVisible\"\n      class=\"manager-change-user-info\"\n    >\n      <el-form class=\"user-info\">\n        <el-form-item\n          label=\"用户名\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-name\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.userName\"\n            :disabled=\"true\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"昵称\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-phone\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.nickName\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"身份证号\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-phone\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.identityNum\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"角色\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-role\"\n        >\n          <el-input autocomplete=\"off\" v-model=\"updateUserData.role\"></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"电话\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-phone\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.phone\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"地址\"\n          :label-width=\"formLabelWidth\"\n          class=\"manager-change-address\"\n        >\n          <el-input\n            autocomplete=\"off\"\n            v-model=\"updateUserData.address\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"success\" @click=\"submitCHangeInfo\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <pagination\n      :cUrl=\"url\"\n      :cTotal=\"total\"\n      :cPageSize=\"pageSize\"\n      @item-click=\"pageClick\"\n    ></pagination>\n  </div>\n</template>\n\n<script>\nimport {\n  selectUserByUsername,\n  deleteUserByUsername,\n  updateUserByUsername,\n  selectAllUserPage,\n} from \"../api/user\";\nimport Pagination from \"../components/Pagination.vue\";\nexport default {\n  inject: [\"reload\"],\n  components: { Pagination },\n  data() {\n    return {\n      userData: [],\n      dialogVisible: false,\n      dialogTableVisible: false,\n      dialogFormVisible: false,\n      formLabelWidth: \"120px\",\n      deleteUserName: \"\",\n      total: 0,\n      pageSize: 9,\n      url: \"/user/search/\",\n      usersCount: sessionStorage.getItem(\"/user/search/pageCode\")\n        ? sessionStorage.getItem(\"/user/search/pageCode\")\n        : 1,\n      updateUserData: {},\n    };\n  },\n  methods: {\n    pageClick(item) {\n      this.userData = item;\n    },\n    managerChangeInfo(userName) {\n      this.dialogFormVisible = true;\n      selectUserByUsername({\n        user_name: userName,\n      }).then((res) => {\n        this.updateUserData = res.data;\n      });\n    },\n    deleteUserNameClick(deleteUserName) {\n      this.deleteUserName = deleteUserName;\n      this.dialogVisible = true;\n    },\n    managerDeleteUser(userName) {\n      this.dialogVisible = false;\n      deleteUserByUsername({\n        user_name: userName,\n      }).then((res) => {\n        if (res.flag == true) {\n          alert(res.message);\n          this.reload();\n        } else {\n          alert(res.data);\n        }\n      });\n    },\n    submitCHangeInfo() {\n      this.dialogFormVisible = false;\n      updateUserByUsername({\n        user_name: this.updateUserData.userName,\n        nickName: this.updateUserData.nickName,\n        identityNum: this.updateUserData.identityNum,\n        phone: this.updateUserData.phone,\n        address: this.updateUserData.address,\n        role: this.updateUserData.role,\n      }).then((res) => {\n          if (res.flag == true) {\n            alert(res.message);\n            this.reload();\n          } else {\n            alert(res.data);\n          }\n        })\n        .catch((err) => {\n          alert(\"修改失败\");\n        });\n    },\n  },\n  created() {\n    this.$store.commit(\"updateUserActiveIndex\", \"5\");\n      selectAllUserPage({\n        pageNum:this.usersCount,\n      }).then((res) => {\n        this.userData = res.data.list;\n        this.total = res.data.total;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.user-manage {\n  width: 1100px;\n  background: #fff;\n  margin: 10px auto;\n  padding: 10px 20px;\n  .manager-change-user-info {\n    .el-dialog {\n      width: 500px;\n      .el-dialog__body {\n        height: 400px;\n        .user-info {\n          width: 400px;\n          padding: 0;\n          .manager-change-name,\n          .manager-change-password,\n          .manager-change-phone,\n          .manager-change-address {\n            .el-form-item__label {\n              width: 100px !important;\n            }\n            width: 400px;\n            margin-right: 200px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}